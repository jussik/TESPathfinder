<div id="search">
    <div>
        <input placeholder="Location" #loc (input)>
        &rarr;
        <input placeholder="Destination" #dest (input)>
        <button (click)="search(loc.value, dest.value)">Go</button>
    </div>
    <div>
        From [{{world.sourceNode?.pos?.x}}-{{world.sourceNode?.pos?.y}}]
        <button (click)="world.context = 'source'">Set</button>
        <button (click)="world.clearContext('source')">Unset</button>
    </div>
    <div>
        To [{{world.destNode?.pos?.x}}-{{world.destNode?.pos?.y}}]
        <button (click)="world.context = 'destination'">Set</button>
        <button (click)="world.clearContext('destination')">Unset</button>
    </div>
    <div>
        Mark [{{world.markNode?.pos?.x}}-{{world.markNode?.pos?.y}}]
        <button (click)="world.context = 'mark'">Set</button>
        <button (click)="world.clearContext('mark')">Unset</button>
    </div>
    <div>Context: {{world.context}}</div>
    <div>Path:</div>
    <div *ng-for="#node of path">&bullet; {{node.mode}} [{{node.type}}] {{node.text}}</div>
    <div>
        Features: visible active
        <div *ng-for="#feat of world.features">
            {{feat.name}}:
            <input type="checkbox" [(ng-model)]="feat.visible" (click)="visiblityChanged(feat)">
            <input type="checkbox" [(ng-model)]="feat.enabled" (click)="enabledChanged(feat)" [hidden]="!feat.affectsPath">
        </div>
    </div>
</div>